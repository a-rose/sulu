<dom-module id="element-core-data-view">
	<template>
		
		<template  is="dom-repeat" items="{{path}}">
	       <span>{{item}}</span> / 
	   	</template>

		<div class="clusterize">
		  <div id="{{scrollAreaID}}" class="clusterize-scroll">
			<table style="width:100%;" class="">
			  <tbody id="{{contentAreaID}}" class="clusterize-content">
				<tr class="clusterize-no-data">
				  <td>
					  <i>{{loadingMessage}}</i>
				  </td>
				</tr>
			  </tbody>
			</table>
		  </div>
		</div>
	</template>

	<script>
		var FileSystemView = require("./file-system-view.js");
		var $ = require("jquery");
		window.Polymer({
			is: "element-core-data-view",
				ready: function() {
					debugger;
					var self = this;
					this.loadingMessage = "Loading data...";
					var id = this.getAttribute("view-id");
					this.scrollAreaID = "scrollArea" + id;
					this.contentAreaID = "contentArea" + id;

					var fileSystemView = new FileSystemView(id);
					fileSystemView.bind();
					self.sep = require("path").sep;
					self.path = fileSystemView.path.split(this.sep);
					
					fileSystemView.el = this;

					$( self ).
						data("controller", fileSystemView).
						on( "dblclick", ".filesystemitem", {}, fileSystemView.dblclick);
					$(function() {
						window.resizeScrollViews();
					});
				}
			}
		);
	</script>
</dom-module>